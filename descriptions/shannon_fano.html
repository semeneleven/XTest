
<p align=center><i><font size=5>Код Шеннона-Фано. Краткие теоретические сведения.</font></i></p>
<p>Основной принцип, положенный в основу кодирования по методу Шеннона-Фано, заключается в том, что при выборе каждой цифры кодовой комбинации следует стремится к тому, чтобы содержащееся в ней количество информации было наибольшим, т.е. чтобы независимо от значений  всех предыдущих цифр эта цифра принимала оба  возможных для нее значения ( 0 или 1 ) по возможности с однаковой вероятностью.
  Разумеется, количество цифр в различных обозначениях при этом различно, т.е. данный код является неравномерным. Сообщениям, имеющим большую вероятность, соответствуют короткие кодовые комбинации, имеющие меньшую вероятность – более длинные кодовые комбинации.
</p>
<p>Кодовые комбинации строятся следующим образом:</p>
<ol>
  <li><p>Сообщения и их вероятности записываются в таблицу и сортируются по убыванию по вероятностям.</p></li>
  <li><p>Таблица делится на две части так, чтобы суммы вероятностей в обоих частях были бы наиболее близки. Если получается два варианта разбиения, для которых одинаково близки суммы вероятностей, различное для них сообщение относится к верхней подгруппе.</p></li>
  <li><p>В верхней подтаблице в качестве старшего бита кодового слова записывается 0, в нижней – 1.</p></li>
  <li><p>Деление подтаблиц по п.2 повторяется рекурсивно до получения  окончательных кодовых комбинаций (количество сообщений в подтаблице станет равным 1 ).</li>
</ol>
<p align=center><i>Пример построения кодовых комбинаций кода Шеннона-Фано</i></p>
<p>Дан ансамбль сообщений с вероятностями:<br>
P0 = 0.21<br>P1 = 0.15<br>P2 = 0.15<br>P3 = 0.14<br>P4 = 0.13<br>P5 = 0.08<br>P6 = 0.06<br>P7 = 0.06<br>P8 = 0.02</p>
<p>После первого разделения получатся 2 группы сообщений: P0..P2 и P3..P8, так как сумма вероятностей сообщений первой группы - 0.51, а второй, соответственно - 0.49. Первой цифрой кода для сообщений первой группы будет 0, а второй - 1:<br>
P0 = 0.21 0<br>P1 = 0.15 0<br>P2 = 0.15 0<br><hr align=left width=25%>P3 = 0.14 1<br>P4 = 0.13 1<br>P5 = 0.08 1<br>P6 = 0.06 1<br>P7 = 0.06 1<br>P8 = 0.02 1</p>
<p>Первая группа разделяется также на две - сообщение P0 и сообщения P1, P2. Для единственного сообщения в первой группе получаем окончательный код - 00, в коды сообщений P1 и P2 справа добавляется цифра 1. Аналогично группа P3..P8 делится на две - P3, P4 и P5..P8:<br>
P0 = 0.21 00<br><hr align=left width=20%>P1 = 0.15 01<br>P2 = 0.15 01<br><hr align=left width=25%>P3 = 0.14 10<br>P4 = 0.13 10<br><hr align=left width=20%>P5 = 0.08 11<br>P6 = 0.06 11<br>P7 = 0.06 11<br>P8 = 0.02 11</p>
<p>Для пар сообщений P1 и P2, P3 и P4 могут быть получены окончательные коды. Группа P5..P8 делится еще на две - P5 и P6..P8. Хотя отнесение сообщения P6 не повлияет на избыточность кода, в данной реализации оно должно быть отнесено к нижней группе:<br>
P0 = 0.21 00<br><hr align=left width=20%>P1 = 0.15 010<br><hr align=left width=15%>P2 = 0.15 011<br><hr align=left width=25%>P3 = 0.14 100<br><hr align=left width=15%>P4 = 0.13 101<br><hr align=left width=20%>P5 = 0.08 110<br><hr align=left width=15%>P6 = 0.06 111<br>P7 = 0.06 111<br>P8 = 0.02 111</p>
<p>Последняя группа - сообщения P6..P8 делится сначала на P6 и P7, P8, давая окончательную комбинацию для P6, а затем для P7 и P8:<br>
P0 = 0.21 00<br><hr align=left width=20%>P1 = 0.15 010<br><hr align=left width=15%>P2 = 0.15 011<br><hr align=left width=25%>P3 = 0.14 100<br><hr align=left width=15%>P4 = 0.13 101<br><hr align=left width=20%>P5 = 0.08 110<br><hr align=left width=15%>P6 = 0.06 1110<br><hr align=left width=10%>P7 = 0.06 11110<br><hr align=left width=5%>P8 = 0.02 11111</p>

